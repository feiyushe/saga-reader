{
  "data": {
    "code_dossier": {
      "name": "utils.rs",
      "file_path": "crates/scrap/src/search/utils.rs",
      "code_purpose": "util",
      "importance_score": 0.8,
      "description": "提供HTML内容清洗和文本处理的辅助函数，用于搜索引擎爬虫的数据预处理阶段。",
      "functions": [
        "trim_head_read_days_ago",
        "trim_html_with_script_and_style",
        "trim_to"
      ],
      "interfaces": [
        "trim_head_read_days_ago",
        "trim_html_with_script_and_style"
      ]
    },
    "detailed_description": "该组件包含三个核心函数：trim_head_read_days_ago用于清理表示时间间隔的字符串，移除多种语言（中文、英文）的时间后缀如'天之前'、'days ago'等；trim_html_with_script_and_style负责从原始HTML中提取主体内容，过滤掉script、style、meta等非正文标签，保留body内的有效内容并重构为标准HTML结构；trim_to是私有辅助函数，实现基于指定前缀的字符串截断逻辑。整体功能聚焦于网络爬虫数据采集后的预处理环节，确保后续分析模块能接收到干净、结构化的文本内容。",
    "responsibilities": [
      "清理时间相关的文本后缀",
      "过滤HTML中的非必要标签以提取主要内容",
      "提供通用的字符串截断工具方法"
    ],
    "interfaces": [
      {
        "name": "trim_head_read_days_ago",
        "interface_type": "function",
        "visibility": "public",
        "parameters": [
          {
            "name": "head_read",
            "param_type": "String",
            "is_optional": false,
            "description": "包含时间信息的原始字符串"
          }
        ],
        "return_type": "String",
        "description": "去除多种语言格式的时间后缀，返回纯数字字符串"
      },
      {
        "name": "trim_html_with_script_and_style",
        "interface_type": "function",
        "visibility": "public",
        "parameters": [
          {
            "name": "html_text",
            "param_type": "&str",
            "is_optional": false,
            "description": "原始HTML文本"
          }
        ],
        "return_type": "String",
        "description": "返回去除特定标签后的HTML内容"
      }
    ],
    "dependencies": [
      {
        "name": "scraper",
        "path": null,
        "is_external": true,
        "line_number": 1,
        "dependency_type": "library",
        "version": null
      }
    ],
    "complexity_metrics": {
      "cyclomatic_complexity": 4.0,
      "lines_of_code": 39,
      "number_of_functions": 3,
      "number_of_classes": 0,
      "depth_of_inheritance": 0,
      "coupling_factor": 0.25,
      "cohesion_score": 0.85
    }
  },
  "timestamp": 1758805579,
  "prompt_hash": "2586645484a5567b61efc57503b2c3a0",
  "token_usage": {
    "input_tokens": 838,
    "output_tokens": 724,
    "total_tokens": 1562
  },
  "model_name": null
}