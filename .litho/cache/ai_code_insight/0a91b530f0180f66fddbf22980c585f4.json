{
  "data": {
    "code_dossier": {
      "name": "tray.rs",
      "file_path": "app/src-tauri/src/tray.rs",
      "source_summary": "",
      "code_purpose": "widget",
      "importance_score": 0.8,
      "description": "系统托盘图标管理组件，用于创建和控制桌面应用的托盘菜单及窗口行为",
      "functions": [
        "create_tray",
        "open_main_window",
        "bring_to_front"
      ],
      "interfaces": []
    },
    "detailed_description": "该组件负责在桌面应用程序中创建系统托盘图标，并绑定右键菜单功能。支持通过托盘菜单项显示/隐藏主窗口、打开网络信息窗口、关于窗口以及退出程序。同时支持双击托盘图标打开主窗口。针对macOS和其他操作系统对菜单点击行为做了差异化处理。所有窗口配置（如标题、尺寸、URL）均从常量模块导入，确保配置集中化。",
    "responsibilities": [
      "创建并初始化系统托盘图标及其上下文菜单",
      "响应托盘菜单事件以控制应用程序窗口的显示状态",
      "实现跨平台托盘行为适配（特别是macOS左键点击菜单的支持）",
      "管理多个独立窗口的打开与聚焦逻辑",
      "提供通用的窗口前置显示辅助函数"
    ],
    "interfaces": [],
    "dependencies": [
      {
        "name": "tauri::menu::Menu",
        "path": "tauri::menu::Menu",
        "is_external": true,
        "line_number": 1,
        "dependency_type": "struct",
        "version": null
      },
      {
        "name": "tauri::menu::MenuItem",
        "path": "tauri::menu::MenuItem",
        "is_external": true,
        "line_number": 2,
        "dependency_type": "struct",
        "version": null
      },
      {
        "name": "tauri::tray::TrayIconBuilder",
        "path": "tauri::tray::TrayIconBuilder",
        "is_external": true,
        "line_number": 3,
        "dependency_type": "struct",
        "version": null
      },
      {
        "name": "tauri::Manager",
        "path": "tauri::Manager",
        "is_external": true,
        "line_number": 4,
        "dependency_type": "trait",
        "version": null
      },
      {
        "name": "tauri::Runtime",
        "path": "tauri::Runtime",
        "is_external": true,
        "line_number": 4,
        "dependency_type": "trait",
        "version": null
      },
      {
        "name": "tauri::Url",
        "path": "tauri::Url",
        "is_external": true,
        "line_number": 5,
        "dependency_type": "struct",
        "version": null
      },
      {
        "name": "tauri::WebviewUrl",
        "path": "tauri::WebviewUrl",
        "is_external": true,
        "line_number": 5,
        "dependency_type": "enum",
        "version": null
      },
      {
        "name": "tauri::WebviewWindow",
        "path": "tauri::WebviewWindow",
        "is_external": true,
        "line_number": 6,
        "dependency_type": "struct",
        "version": null
      },
      {
        "name": "tauri::WebviewWindowBuilder",
        "path": "tauri::WebviewWindowBuilder",
        "is_external": true,
        "line_number": 6,
        "dependency_type": "struct",
        "version": null
      },
      {
        "name": "crate::constrant::WINDOW_ABOUT_LABEL",
        "path": "crate::constrant",
        "is_external": false,
        "line_number": 9,
        "dependency_type": "const",
        "version": null
      },
      {
        "name": "crate::constrant::WINDOW_ABOUT_TITLE",
        "path": "crate::constrant",
        "is_external": false,
        "line_number": 10,
        "dependency_type": "const",
        "version": null
      },
      {
        "name": "crate::constrant::WINDOW_ABOUT_URL",
        "path": "crate::constrant",
        "is_external": false,
        "line_number": 11,
        "dependency_type": "const",
        "version": null
      },
      {
        "name": "crate::constrant::WINDOW_EXTERNAL_ENDPOINT_INFORMATION_LABEL",
        "path": "crate::constrant",
        "is_external": false,
        "line_number": 12,
        "dependency_type": "const",
        "version": null
      },
      {
        "name": "crate::constrant::WINDOW_EXTERNAL_ENDPOINT_INFORMATION_TITLE",
        "path": "crate::constrant",
        "is_external": false,
        "line_number": 13,
        "dependency_type": "const",
        "version": null
      },
      {
        "name": "crate::constrant::WINDOW_EXTERNAL_ENDPOINT_INFORMATION_URL",
        "path": "crate::constrant",
        "is_external": false,
        "line_number": 14,
        "dependency_type": "const",
        "version": null
      },
      {
        "name": "crate::constrant::WINDOW_MAIN_LABEL",
        "path": "crate::constrant",
        "is_external": false,
        "line_number": 15,
        "dependency_type": "const",
        "version": null
      },
      {
        "name": "crate::constrant::WINDOW_MAIN_TITLE",
        "path": "crate::constrant",
        "is_external": false,
        "line_number": 16,
        "dependency_type": "const",
        "version": null
      },
      {
        "name": "crate::constrant::WINDOW_MAIN_URL",
        "path": "crate::constrant",
        "is_external": false,
        "line_number": 17,
        "dependency_type": "const",
        "version": null
      }
    ],
    "complexity_metrics": {
      "cyclomatic_complexity": 8.0,
      "lines_of_code": 119,
      "number_of_functions": 3,
      "number_of_classes": 0,
      "depth_of_inheritance": 0,
      "coupling_factor": 0.65,
      "cohesion_score": 0.85
    }
  },
  "timestamp": 1759024435,
  "prompt_hash": "0a91b530f0180f66fddbf22980c585f4",
  "token_usage": {
    "input_tokens": 1532,
    "output_tokens": 1182,
    "total_tokens": 2714
  },
  "model_name": null
}