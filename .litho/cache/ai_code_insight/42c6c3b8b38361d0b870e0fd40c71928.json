{
  "data": {
    "code_dossier": {
      "name": "+page.svelte",
      "file_path": "app/src/routes/feedsPackage/create_or_edit/+page.svelte",
      "source_summary": "",
      "code_purpose": "page",
      "importance_score": 0.8,
      "description": "Svelte页面组件，用于创建或编辑信息源包。通过URL参数判断操作模式（创建/编辑），提供表单输入和保存/取消操作面板。",
      "functions": [
        "onSave",
        "onCancel"
      ],
      "interfaces": [
        "Mode"
      ]
    },
    "detailed_description": "该组件是SvelteKit路由驱动的前端页面，负责渲染创建或编辑信息源包的UI界面。组件根据URL中的查询参数动态设置模式（create/edit）、ID、名称及回调事件ID。在浏览器环境中解析参数并初始化状态。用户输入包名后，通过`onSave`调用底层API执行添加或重命名操作，并通过Tauri的窗口系统触发回调事件后关闭窗口。`onCancel`则直接关闭窗口而不保存。界面包含输入验证、错误提示和操作面板，支持国际化文本显示。",
    "responsibilities": [
      "解析URL参数初始化页面状态",
      "提供信息源包名称的输入与验证功能",
      "调用API实现创建或编辑信息源包的业务逻辑",
      "通过Tauri窗口系统处理跨进程通信与窗口关闭",
      "展示操作结果反馈与错误提示信息"
    ],
    "interfaces": [
      {
        "name": "Mode",
        "interface_type": "type",
        "visibility": "private",
        "parameters": [],
        "return_type": null,
        "description": "定义页面操作模式的联合类型，支持'create'和'edit'两种状态"
      },
      {
        "name": "onSave",
        "interface_type": "function",
        "visibility": "public",
        "parameters": [],
        "return_type": "Promise<void>",
        "description": "处理保存操作：创建时调用add_feeds_package添加新包；编辑时调用rename_feeds_package修改名称"
      }
    ],
    "dependencies": [
      {
        "name": "svelte-i18n",
        "path": null,
        "is_external": true,
        "line_number": 1,
        "dependency_type": "i18n",
        "version": null
      },
      {
        "name": "$app/environment",
        "path": null,
        "is_external": false,
        "line_number": 2,
        "dependency_type": "framework",
        "version": null
      },
      {
        "name": "@tauri-apps/api/window",
        "path": null,
        "is_external": true,
        "line_number": 3,
        "dependency_type": "desktop",
        "version": null
      },
      {
        "name": "$lib/widgets/SaveOperatePanel.svelte",
        "path": null,
        "is_external": false,
        "line_number": 4,
        "dependency_type": "ui_component",
        "version": null
      },
      {
        "name": "$lib/utils/text",
        "path": null,
        "is_external": false,
        "line_number": 5,
        "dependency_type": "utility",
        "version": null
      },
      {
        "name": "$lib/hybrid-apis/feed/impl",
        "path": null,
        "is_external": false,
        "line_number": 6,
        "dependency_type": "api_client",
        "version": null
      },
      {
        "name": "$lib/utils/id",
        "path": null,
        "is_external": false,
        "line_number": 7,
        "dependency_type": "utility",
        "version": null
      },
      {
        "name": "$lib/utils/dom",
        "path": null,
        "is_external": false,
        "line_number": 8,
        "dependency_type": "utility",
        "version": null
      }
    ],
    "complexity_metrics": {
      "cyclomatic_complexity": 6.0,
      "lines_of_code": 90,
      "number_of_functions": 2,
      "number_of_classes": 0,
      "depth_of_inheritance": 0,
      "coupling_factor": 8.0,
      "cohesion_score": 0.75
    }
  },
  "timestamp": 1759024502,
  "prompt_hash": "42c6c3b8b38361d0b870e0fd40c71928",
  "token_usage": {
    "input_tokens": 1097,
    "output_tokens": 948,
    "total_tokens": 2045
  },
  "model_name": null
}