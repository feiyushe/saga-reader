{
  "data": {
    "code_dossier": {
      "name": "+page.svelte",
      "file_path": "app/src/routes/feeds/create_or_edit/+page.svelte",
      "source_summary": "",
      "code_purpose": "page",
      "importance_score": 0.8,
      "description": "Svelte页面组件，用于创建或编辑订阅源的表单界面。支持两种模式：创建和编辑。根据选择的数据获取方式（scrap/rss）动态调整输入字段标签和占位符，并通过Tauri API与主窗口通信完成保存操作。",
      "functions": [
        "onSave",
        "onCancel"
      ],
      "interfaces": [
        "formErrorName",
        "formErrorFetcherId",
        "formErrorData",
        "canSave",
        "formLabelData",
        "formInputPlaceHolderData"
      ]
    },
    "detailed_description": "该组件是SvelteKit路由系统中的一个页面级组件，负责渲染‘创建/编辑’订阅源的UI表单。组件初始化时从URL参数中读取当前操作模式(mode)、ID、名称、数据等信息并填充到表单中。提供两个主要交互函数：onSave用于提交更改并关闭窗口，onCancel取消操作。表单包含名称输入、抓取类型选择及对应数据输入框，其标签和提示文本根据所选fetcher类型动态变化。错误提示机制确保必填项非空，且仅在所有验证通过后才允许保存。最终通过Tauri的window.emit向父窗口发送回调事件以通知结果。",
    "responsibilities": [
      "解析URL参数初始化表单数据",
      "管理创建/编辑两种模式下的状态逻辑",
      "实现表单输入验证与动态UI更新",
      "处理保存和取消操作并与宿主窗口通信",
      "提供国际化文本支持与用户反馈"
    ],
    "interfaces": [
      {
        "name": "formErrorName",
        "interface_type": "derived_state",
        "visibility": "private",
        "parameters": [],
        "return_type": "boolean",
        "description": "计算属性：判断feed名称是否为空"
      },
      {
        "name": "formErrorFetcherId",
        "interface_type": "derived_state",
        "visibility": "private",
        "parameters": [],
        "return_type": "boolean",
        "description": "计算属性：判断抓取器ID是否为空"
      },
      {
        "name": "formErrorData",
        "interface_type": "derived_state",
        "visibility": "private",
        "parameters": [],
        "return_type": "boolean",
        "description": "计算属性：判断数据内容是否为空"
      },
      {
        "name": "canSave",
        "interface_type": "derived_state",
        "visibility": "private",
        "parameters": [],
        "return_type": "boolean",
        "description": "计算属性：综合判断是否可执行保存操作"
      },
      {
        "name": "formLabelData",
        "interface_type": "derived_state",
        "visibility": "private",
        "parameters": [],
        "return_type": "string",
        "description": "根据当前fetcher_id动态生成数据输入框的标签文本"
      },
      {
        "name": "formInputPlaceHolderData",
        "interface_type": "derived_state",
        "visibility": "private",
        "parameters": [],
        "return_type": "string",
        "description": "根据当前fetcher_id动态生成数据输入框的占位符文本"
      }
    ],
    "dependencies": [
      {
        "name": "svelte-i18n",
        "path": "svelte-i18n",
        "is_external": true,
        "line_number": 1,
        "dependency_type": "i18n",
        "version": null
      },
      {
        "name": "$app/environment",
        "path": "$app/environment",
        "is_external": false,
        "line_number": 2,
        "dependency_type": "framework",
        "version": null
      },
      {
        "name": "@tauri-apps/api/window",
        "path": "@tauri-apps/api/window",
        "is_external": true,
        "line_number": 3,
        "dependency_type": "native_api",
        "version": null
      },
      {
        "name": "$lib/widgets/SaveOperatePanel.svelte",
        "path": "$lib/widgets/SaveOperatePanel.svelte",
        "is_external": false,
        "line_number": 4,
        "dependency_type": "component",
        "version": null
      },
      {
        "name": "$lib/utils/text",
        "path": "$lib/utils/text",
        "is_external": false,
        "line_number": 5,
        "dependency_type": "utility",
        "version": null
      },
      {
        "name": "$lib/hybrid-apis/feed/impl",
        "path": "$lib/hybrid-apis/feed/impl",
        "is_external": false,
        "line_number": 6,
        "dependency_type": "api_client",
        "version": null
      },
      {
        "name": "$lib/utils/id",
        "path": "$lib/utils/id",
        "is_external": false,
        "line_number": 7,
        "dependency_type": "utility",
        "version": null
      },
      {
        "name": "$lib/hybrid-apis/feed/types",
        "path": "$lib/hybrid-apis/feed/types",
        "is_external": false,
        "line_number": 8,
        "dependency_type": "type_definition",
        "version": null
      },
      {
        "name": "$lib/utils/dom",
        "path": "$lib/utils/dom",
        "is_external": false,
        "line_number": 9,
        "dependency_type": "utility",
        "version": null
      }
    ],
    "complexity_metrics": {
      "cyclomatic_complexity": 10.0,
      "lines_of_code": 136,
      "number_of_functions": 2,
      "number_of_classes": 0,
      "depth_of_inheritance": 0,
      "coupling_factor": 9.0,
      "cohesion_score": 0.75
    }
  },
  "timestamp": 1759024524,
  "prompt_hash": "2384216ebbf7041d48073d079243f7bb",
  "token_usage": {
    "input_tokens": 1617,
    "output_tokens": 1336,
    "total_tokens": 2953
  },
  "model_name": null
}